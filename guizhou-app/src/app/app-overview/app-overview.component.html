<div class="app-overview">
    <app-header [title]="title"></app-header>

    <nz-content>
        <div class="app-overview-totals">
            <div nz-row [nzGutter]="18">
                <div nz-col class="total-row" [nzSpan]="8">
                    <div class="total-box">
                        <img src='http://placehold.it/80x80' alt="">
                        <span>应用总数</span>
                        <span>{{totals.appTotalNum}}</span>
                    </div>
                </div>
                <div nz-col class="total-row" [nzSpan]="8">
                    <div class="total-box">
                        <img src='http://placehold.it/80x80' alt="">
                        <span>容器个数</span>
                        <span>{{totals.dockerTotalNum}}</span>
                    </div>
                </div>
                <div nz-col class="total-row" [nzSpan]="8">
                    <div class="total-box">
                        <img src='http://placehold.it/80x80' alt="">
                        <span>项目个数</span>
                        <span>{{totals.projectTotalNum}}</span>
                    </div>
                </div>
            </div>
        </div>
        <nz-tabset [nzTabPosition]="'top'" [nzType]="'card'">
            <nz-tab *ngFor="let tab of tabs">
                <ng-template #nzTabHeading>
                    {{tab.name}}
                </ng-template>
                {{tab.tabName}}
                <nz-table #nzTable
                          [nzAjaxData]="_dataSet"
                          [nzShowSizeChanger]="true"
                          [nzShowTotal]="true"
                          [nzLoading]="_loading"
                          [nzTotal]="_total"
                          [(nzPageIndex)]="_current"
                          (nzPageIndexChange)="refreshData()"
                          [(nzPageSize)]="_pageSize"
                          (nzPageSizeChange)="refreshData(true)">
                    <thead nz-thead>
                    <tr>
                        <th nz-th>
                            <span>创建时间</span>
                            <nz-table-sort [(nzValue)]="sortMap.name" (nzValueChange)="sort('dob', $event)"></nz-table-sort>
                        </th>
                        <th nz-th>
                            <span>Gender</span>
                            <nz-table-sort [(nzValue)]="sortMap.gender" (nzValueChange)="sort('gender', $event)"></nz-table-sort>
                        </th>
                        <th nz-th>
                            <span>Email</span>
                            <nz-table-sort [(nzValue)]="sortMap.email" (nzValueChange)="sort('email', $event)"></nz-table-sort>
                        </th>
                    </tr>
                    </thead>
                    <tbody nz-tbody>
                    <tr nz-tbody-tr *ngFor="let data of nzTable.data">
                        <td nz-td>
                            <a>{{data.dob}}</a>
                        </td>
                        <td nz-td>{{data.gender}}</td>
                        <td nz-td>{{data.email}}</td>
                    </tr>
                    </tbody>
                </nz-table>
            </nz-tab>
        </nz-tabset>
    </nz-content>
</div>