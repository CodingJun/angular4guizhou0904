<app-header [title]="title"></app-header>

<nz-content>
    <div nz-row class="catalog-options-wrapper">
        <div nz-col [nzSpan]="6" [nzOffset]="18">
            <nz-input class="serviceInstanceSearch"
                      [nzSize]="large"
                      [(ngModel)]="inputValue"
                      [nzPlaceHolder]="'按表名称、描述、标签搜索...'"
                      (ngModelChange)="_console($event)">
                <ng-template #addOnAfter><i class="anticon anticon-search"></i></ng-template>
            </nz-input>
        </div>
    </div>
    <nz-table #nzTable
              [nzAjaxData]="_dataSet"
              [nzShowSizeChanger]="true"
              [nzShowTotal]="true"
              [nzLoading]="_loading"
              [nzTotal]="_total"
              [(nzPageIndex)]="_current"
              (nzPageIndexChange)="refreshData()"
              [(nzPageSize)]="_pageSize"
              (nzPageSizeChange)="refreshData(true)">
        <thead nz-thead>
        <tr>
            <th nz-th>
                <span>服务编码</span>
                <nz-table-sort [(nzValue)]="sortMap.serviceId"
                               (nzValueChange)="sort('serviceId', $event)"></nz-table-sort>
            </th>
            <th nz-th>
                <span>服务名称</span>
                <nz-table-sort [(nzValue)]="sortMap.serviceName"
                               (nzValueChange)="sort('serviceName', $event)"></nz-table-sort>
            </th>
            <th nz-th>
                <span>创建时间</span>
                <nz-table-sort [(nzValue)]="sortMap.createTime"
                               (nzValueChange)="sort('createTime', $event)"></nz-table-sort>
            </th>
            <th nz-th>
                <span>更新时间</span>
                <nz-table-sort [(nzValue)]="sortMap.updateTime"
                               (nzValueChange)="sort('updateTime', $event)"></nz-table-sort>
            </th>
            <th nz-th>
                <span>实例状态</span>
                <nz-table-sort [(nzValue)]="sortMap.status" (nzValueChange)="sort('status', $event)"></nz-table-sort>
            </th>
            <th nz-th>
                <span>CPU大小</span>
                <nz-table-sort [(nzValue)]="sortMap.cpuSize" (nzValueChange)="sort('cpuSize', $event)"></nz-table-sort>
            </th>
            <th nz-th>
                <span>内存大小</span>
                <nz-table-sort [(nzValue)]="sortMap.memSize" (nzValueChange)="sort('memSize', $event)"></nz-table-sort>
            </th>
            <th nz-th>
                <span>存储大小</span>
                <nz-table-sort [(nzValue)]="sortMap.storageSize"
                               (nzValueChange)="sort('storageSize', $event)"></nz-table-sort>
            </th>
            <th nz-th>
                <span>操作</span>
            </th>
        </tr>
        </thead>
        <tbody nz-tbody>
        <tr nz-tbody-tr *ngFor="let data of nzTable.data">
            <td nz-td>
                <a>{{data.serviceId}}</a>
            </td>
            <td nz-td>{{data.serviceName}}</td>
            <td nz-td>{{data.createTime}}</td>
            <td nz-td>{{data.updateTime}}</td>
            <td nz-td>
                <p [style.background-color]="data.status ? '#67c281' : '#ff9933'"
                   class="dataStatus">
                    {{data.status ? '正常':'挂起'}}
                </p>
            </td>
            <td nz-td>{{data.cpuSize}}</td>
            <td nz-td>{{data.memSize}}</td>
            <td nz-td>{{data.storageSize}}</td>

            <td nz-td><a href="">详情</a></td>
        </tr>
        </tbody>
    </nz-table>
</nz-content>
